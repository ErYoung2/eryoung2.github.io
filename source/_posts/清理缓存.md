---
title: 清理缓存
date: 2022-07-03 01:19:41
tags: [内核,linux] 
categories: 操作系统
---

释放缓存区内存的方法

**1）清理pagecache（页面缓存）**

```bash
root@homeserver:~# echo 1 > /proc/sys/vm/drop_caches 或者 # sysctl -w vm.drop_caches=1
```

**2）清理dentries（目录缓存）和inodes**

```bash
root@homeserver:~# echo 2 > /proc/sys/vm/drop_caches 或者 # sysctl -w vm.drop_caches=2
```

**3）清理pagecache、dentries和inodes**

```bash
root@homeserver:~# echo 3 > /proc/sys/vm/drop_caches 或者 # sysctl -w vm.drop_caches=3
```

上面三种方式都是临时释放缓存的方法，要想永久释放缓存，需要在/etc/sysctl.conf文件中配置：vm.drop_caches=1/2/3，然后sysctl -p生效即可！

另外，可以使用sync命令来清理文件系统缓存，还会清理僵尸(zombie)对象和它们占用的内存

```bash
root@homeserver:~# sync
```
