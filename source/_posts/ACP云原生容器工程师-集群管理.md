---
title: ACP云原生容器工程师 - 集群管理
date: 2023-03-10 00:48:39
tags: 阿里云ACP认证
categories: 考试
---

## 集群升级

* 可以通过容器服务控制台，可视化升级集群的Kubernetes版本

* 可以在kuberenetes集群列表页面查看集群的Kubernetes版本，以及当前是否有新的版本可供升级。升级集群的过程包含前置检查、升级Master、升级Node

* 集群升级策略：
  
  * 定义了您将使用怎样的策略对集群进行升级
  
  * 默认策略为分批升级
  
  * 升级Node阶段对集群内的节点进行分批升级，具体策略为：
    
    1. 第一批升级的节点数为1，后续的批次为2的幂数进行增长。暂停后重新恢复升级的第一批次为1，后续也是以2的幂数进行增长。
    
    2. 每一批节点的最大数量不会超过节点总数的10%

* 集群升级前置检查在您开始集群升级之后，ACK会为您自动启动集群升级前置检查

* 该检查会对集群进行多项健康检查，以确保您的集群可以顺利的完成此次升级

* 如果您的集群存在不合理配置或潜在风险，将无法通过前置检查。

* 集群可以升级暂停或者升级停止，已完成的节点就升级完毕了，未升级的节点不升级。

## 管理维护组件步骤

1. 登录容器管理控制台

2. 在控制台左侧导航栏中，单击集群

3. 在集群列表页面，选择目标肌群，并在目标集群右侧操作列下，选择更多-系统组件管理

4. 在组件管理页面，您可以：
   
   * 选择需要安装的组件，单击安装
   
   * 选择需要卸载的组件，单击卸载
   
   * 选择需要升级的组件，单击升级

组件主要包含：核心组件、存储组件、应用管理组件、网络组件、日志与监控组件、安全组件、其他组件

* 核心组件无法卸载！

## 扩容集群步骤

1. 登录容器服务管理控制台

2. 在控制台左侧导航栏中，单击集群

3. 在集群列表页面，选择目标集群，并在目标集群右侧操作列下，选择更多-集群扩容

4. 在集群扩容页面进行扩容配置

5. 根据业务需求扩容所需要的节点配置

6. 配置内容与Worker节点配置一致
