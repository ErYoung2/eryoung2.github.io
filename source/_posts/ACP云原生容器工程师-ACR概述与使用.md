---
title: ACP云原生容器工程师 - ACR概述与使用
date: 2023-03-17 09:41:26
tags: 阿里云ACP认证
categories: 考试
---



## 容器镜像基本概念

![](https://raw.githubusercontent.com/ErYoung2/imgbed/master/2023/03/17-09-43-07-%E6%88%AA%E5%B1%8F2023-03-17%2009.42.51.png)



## 阿里云容器镜像产品ACR

### 基本介绍

* 容器镜像服务（ACR）
  
  * 提供云原生资产的安全托管和全生命周期管理
  
  * 支持多场景下镜像的高效分发，与容器服务ACK无缝集成，大早云原生应用一站式解决方案
  
  * 与阿里云容器服务、CodePipeline深度集成，自动完成从代码提交到应用部署的DevOps完整流程



### ACR默认实例（个人版）

* 容器镜像服务ACR默认实例提供基础的容器镜像服务

![](https://raw.githubusercontent.com/ErYoung2/imgbed/master/2023/03/17-09-46-31-%E6%88%AA%E5%B1%8F2023-03-17%2009.46.23.png)



### ACR企业版

* 使用场景
  
  * 业务全球地域部署
  
  * 业务大规模部署
  
  * 容器化DevSecOps提效
  
  * 搬站上云



### ACR企业版和个人版对比

![](https://raw.githubusercontent.com/ErYoung2/imgbed/master/2023/03/17-09-48-44-%E6%88%AA%E5%B1%8F2023-03-17%2009.48.21.png)

![](https://raw.githubusercontent.com/ErYoung2/imgbed/master/2023/03/17-09-48-53-%E6%88%AA%E5%B1%8F2023-03-17%2009.48.34.png)

主要区别在于企业版支持：

* 多样OCI制品托管

* 加速应用分发

* 多维度安全保障

* 提效云原生应用交付

## ACR产品优势和应用场景

### 特点总结

* 简单易用
  
  * 无需自行搭建运维，一键创建镜像仓库
  
  * 支持多地域，提供稳定快速的镜像上传、下载服务

* 安全可控
  
  * 完善的镜像权限管理体系，保证镜像的分享安全、团队的协作便利
  
  * 提供镜像安全扫描功能，保证镜像漏洞可识别，漏洞级别可提示

* 无缝集成
  
  * 整合容器服务，实现新应用镜像生成后的持续部署
  
  * 整合云Code、CodePipeline，实现源代码到编译测试后，自动生成应用镜像



### 全球化自动部署

* 业务镜像全球化自动部署，各地都需要购买ACR企业版，才能自动更新及自动化部署

![](https://raw.githubusercontent.com/ErYoung2/imgbed/master/2023/03/17-09-53-04-%E6%88%AA%E5%B1%8F2023-03-17%2009.52.57.png)

* DevSecOps，可阻断未通过安全监测的上传和部署

![](https://raw.githubusercontent.com/ErYoung2/imgbed/master/2023/03/17-09-54-25-%E6%88%AA%E5%B1%8F2023-03-17%2009.54.17.png)





## 创建企业版容器实例

### 前提条件

* 已开通容器镜像服务企业版所依赖的云产品OSS

* 如需查询实例的实时数据，请开通云监控

* 如需通过VPC访问实例，请开通VPC

* 如需记录控制台操作，请开通ActionTrail

* 已为容器镜像服务企业版授权您的OSS、VPC、云监控等资源权限



### 创建步骤

* 登录容器镜像服务控制

* 在左侧导航栏，选择实例列表

* 在实例列表页面，单击创建企业版实例

* 在创建企业版实例页面，完成基本信息的配置，然后单击立即购买



## 容器实例配置/管理

* 绑定源代码托管平台，在实例管理页面选择仓库管理 - 代码源，注意以下代码平台的使用细节：
  
  ![](https://raw.githubusercontent.com/ErYoung2/imgbed/master/2023/03/17-10-00-12-%E6%88%AA%E5%B1%8F2023-03-17%2010.00.04.png)



* 创建镜像仓库，设置命名空间、仓库名称、仓库类型和摘要

* 创建镜像仓库

* 设置构建规则

* 构建镜像

* 查看镜像



### ACR镜像分发加速器

#### 官方镜像加速

* 登录容器镜像服务控制台

* 在左侧导航栏选择镜像工具 - 镜像加速器

* 在镜像加速器页面就会显示为您独立分配的加速器地址

* 使用配置文件/etc/docker/daemon.json进行docker配置

* 重启Docker Daemon



#### P2P加速

* 当集群规模很大，达到300节点以上时，使用效果很好

* 推荐使用多可用区VSwitch打散集群ECS节点

* 推荐使用本地SSD或者可分配内存较大的ECS实例

* 当集群规模较小或可分配内存不足时，可能起不到加速效果





## 小结

* 阿里云容器镜像产品ACR
  
  * 基本介绍
  
  * ACR个人版
  
  * ACR企业版，与个人版对比

* 产品优势和应用场景
  
  * 特点总结
  
  * 全球化自动部署

* 创建企业版容器实例
  
  * 前提条件
  
  * 创建步骤

* 容器实例配置/管理
  
  * 使用步骤
  
  * ACR镜像分发加速器
